<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mithril-fx playground</title>
  <link rel="stylesheet" type="text/css" href="../node_modules/animate.css/animate.min.css">
  <script type="text/javascript" src="../node_modules/mithril/mithril.min.js"></script>
  <script type="text/javascript" src="../node_modules/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="../node_modules/lodash/lodash.min.js"></script>
  <script type="text/javascript" src="../dist/mithril.fx.js"></script>
  <style type="text/css">
    div.box  {
      height: 70px;
      width: 70px;
      background-color: #f23;
    }

    .fx {
      animation-duration: 0.3s;
    }

    .root.fx.mount {
      animation-duration: 1s;
      animation-name: slideInRight;
    }

    .fx.hide {
      animation-name: bounceOut;
    }

    .fx.show {
      animation-name: bounceIn;
    }

    h2.fx.mount {
      animation-duration: 1s;
      animation-name: fadeIn;
    }
    h2.fx.change {
      animation-duration: 0.3s;
      animation-name: shake;
    }
    h2.fx.move.high {
      animation-name: slideInUp;
    }
    h2.fx.move.low {
      animation-name: slideInDown;
    }
  </style>
</head>
<body>
<script type="text/javascript">
  var Home = {
    controller: function () {
      return {
        display: true,
        toggleDisplay: function () {
          this.display = !this.display
        },
        data: [
          {id: 1, name: "Sun"},
          {id: 2, name: "Moon"},
          {id: 3, name: "Earth"}],
        addContent: function () {
          this.data.unshift({
            id: this.data.length + 1,
            name: "New planet" + this.data.length})
        },
        changeContent: function () {
          this.data[1].name = Date.now()
        },
        swapContents: function () {
          var tmp = this.data[0]
          this.data[0] = this.data[2]
          this.data[2] = tmp
        }
      }
    },
    view: function (c) {
      return fx('.root',
        m("h1", "TOGGLE ANIMATION"),
        m("button", {onclick: c.toggleDisplay.bind(c)}, "Toggle"),
        fx(c.display, "div.box", "Toggle this element."),
        m("h1", "LIST"),
        m("div",
          m("button", {onclick: c.addContent.bind(c)}, "Add"),
          m("button", {onclick: c.changeContent.bind(c)}, "Change"),
          m("button", {onclick: c.swapContents.bind(c)}, "Swap")),
        fx(c.data, function (planet) {
          return m("h2", planet.name)
        }))
    }
  }

  m.route(document.body, "/", {
    "/": Home
  })
</script>
</body>